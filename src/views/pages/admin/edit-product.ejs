<%- include('../../includes/header'); %>
    <body>

        <%- include('../../includes/menu'); %>

        <main class="edit-product">

            <% if (isAuthenticated === true) { %>

                <% if (hasProducts) { %>

                    <form 
                        method="POST" 
                        class="form" 
                        action="<%= `/admin/update-product/${id}` %>"
                    >

                        <h1 class="form__page-title">Edit Product</h1>

                        <div class="form__field">
                            <label for="title" id="title-label" class="form__label">Title*</label>
                            <input
                                required
                                type="text"
                                name="title"
                                class="form__input"
                                aria-labelledby="title-label"
                                value="<%= productInformation.title %>"
                            />
                        </div>

                        <div class="form__field">
                            <label for="image" id="image-label" class="form__label">Image*</label>
                            <input
                                required
                                type="text"
                                name="image"
                                class="form__input"
                                aria-labelledby="image-label"
                                value="<%= productInformation.image %>"
                            />
                        </div>

                        <div class="form__field">
                            <label for="description" id="description-label" class="form__label">Description*</label>
                            <input
                                required
                                type="text"
                                name="description"
                                class="form__input"
                                aria-labelledby="description-label"
                                value="<%= productInformation.description %>"
                            />
                        </div>

                        <div class="form__field">
                            <label for="price" id="price-label" class="form__label">Price*</label>
                            <input
                                required
                                type="number"
                                name="price"
                                class="form__input"
                                step="0.01"
                                aria-labelledby="price-label"
                                value="<%= productInformation.price %>"
                            />
                        </div>

                        <input type="hidden" name="csrfToken" value=<%= csrfToken %>/>
                        <button type="submit" class="button">Submit</button>

                    </form>

                <% }else{ %>

                    <h1>Error: Product doesn't exist in the JSON file</h1>

                <% } %>

            <% }else{ %>

                <%- include('../../components/fallback'); %>

            <% } %>

        </main>

    </body>
<%- include('../../includes/footer'); %>